<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js"></script>
</head>
<body>
    <nav class="nav">
        <div class="logo">
            <img src="fuecoco.png" class="logoImg" alt="fuecoco logo">
        </div>
        <ul class="navItems">
            <li class="navItem"><a href="index.html" class="linkPage">Examen</a></li>
            <li class="navItem active"><a href="results.html" class="linkPage">Résultat</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="chart">
            <canvas id="chart"></canvas>
        </div>
    </div>

    <script>
        const anxiety = localStorage.getItem('anxiety');
        const aggression = localStorage.getItem('aggression');
        const abnormal = localStorage.getItem('abnormal');
        const fixation = localStorage.getItem('fixation');
        const hypersensitivity = localStorage.getItem('hypersensitivity');
        const depression = localStorage.getItem('depression');

        let c = document.getElementById('chart');
        let chart = c.getContext('2d');
        Chart.defaults.color = '#000';
        Chart.defaults.font.family = "Poppins";
        Chart.defaults.font.weight = "500";
        let barChart = new Chart(chart, {
            type: 'bar',
            data: {
                labels: ["Agression", "Anxiety", "Dépression", "Fixation", "Hypersensibilité", "Voix Anormal/Posture"],
                datasets: [{
                    label: 'Type',
                    data: [
                        aggression,
                        anxiety,
                        depression,
                        fixation,
                        hypersensitivity,
                        abnormal
                    ],
                    backgroundColor: [
                        "rgba(247, 23, 53, 0.4)",
                        "rgba(191, 22, 247, 0.4)",
                        "rgba(22, 195, 247, 0.4)",
                        "rgba(247, 240, 22, 0.4)",
                        "rgba(22, 247, 75, 0.4)",
                        "rgba(247, 142, 22, 0.4)"
                    ],
                    borderColor: [
                        "rgba(247, 23, 53, 0.6)",
                        "rgba(191, 22, 247, 0.6)",
                        "rgba(22, 195, 247, 0.6)",
                        "rgba(247, 240, 22, 0.6)",
                        "rgba(22, 247, 75, 0.6)",
                        "rgba(247, 142, 22, 0.6)"
                    ],
                    borderWidth: 1
                }]
            },
            options:{
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>
